{% extends "base.html" %}
{% block header %}
	<h1 class="sub-header ui inverted red block header">
		<i class="lock icon"></i>
		Secure Site Login
	</h1>
{% endblock %}
{% block content %}

<div class="large-print center-body login-form">

{% if user.is_authenticated %}

<a href="{% url 'django.contrib.auth.views.logout_then_login' %}">Logout</a>

{% else %}

{% load url from future %}
	<form class="ui form segment" method="post" action="{% url 'django.contrib.auth.views.login' %}">
	{% csrf_token %}
		<div class="field">
			<label>Username</label>
			<div class="ui left labeled icon input">
				{{form.username}}
				<i class="user icon"></i>
				<div class="ui corner label">
					<i class="icon asterisk"></i>
				</div>
			</div>
		</div>
		<div class="field">
			<label>Password</label>
			<div class="ui left labeled icon input">
				{{form.password}}
				<i class="lock icon"></i>
				<div class="ui corner label">
					<i class="icon asterisk"></i>
				</div>
			</div>
		</div>
		{% if form.errors %}
		<div class="ui error message">
			<div class="header">Username or password was incorrect. Please try again.</div>
		</div>
		{% endif %}

		<input class="ui red submit button" type="submit" value="login" />
		<input type="hidden" name="next" value="{{next}}" />
	</form>
{% endif %}
</div>

{% endblock %}
