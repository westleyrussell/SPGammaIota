{% extends "party_base.html" %}

{% block party_includes %}
	{% load staticfiles %}
	<link rel='stylesheet' type='text/css' href='{% static "css/secure/party/guests.css" %}' />
{% endblock %}

{% block content %}


<div class="ui form">
	<div class="two fields">
		<div id="male-form" class="guest-submit field male">
			<form id="male-form" class="guestAdd-form">
				<div class="ui icon input">
					<input type='text' name='name' class='name' data-gender='M' placeholder='His name'/>
					<i class="male icon"></i>
				</div>
				<input hidden type="text" name="gender" value='M'/>
				<input style="visibility:hidden" type="submit"/><!--must be 'hidden' but still rendered or else the 'enter' wont trigger submit -->
			</form>
		</div>
		<div id="female-form" class="guest-submit field female">
			<form id="female-form" class="guestAdd-form">
				<div class="ui icon input">
					<input type='text' class='name' data-gender='F' placeholder='Her name'/>
					<i class="female icon"></i>
				</div>
				<input hidden type="text" name="gender" value='F'/>
				<input style="visibility:hidden" type="submit"/>
			</form>
		</div>
	</div>
</div>

</br>
Guests for: {{partyname}}
</br>

{% if lists %}
	{% for list in lists %}
		<div class="ui relaxed list {{list.gender}}">
			{% for pg in list.guests %}
				<div class="guest item">
					{% if pg.addedBy == user %}
						<div class="ui right floated icon delete button">
							<i class="delete icon"></i>
						</div>
					{% endif %}
					<div class="content">
						<form class="entry" data-id="{{pg.guest.id}}">
							<input name="name" value="{{ pg.guest.name }}" class="name editable"/>
							<input hidden type="text" name="gender" value="{{pg.guest.gender}}"/>
						</form>
						<div class="right floated description addedBy">{{pg.addedBy}}</div>
					</div>	
				</div>
			{% endfor %}
		</div>
	{% endfor %}
{% endif %}



{% endblock %}