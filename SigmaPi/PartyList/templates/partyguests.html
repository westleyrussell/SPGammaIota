{% extends "party_base.html" %}

{% block party_includes %}
	{% load staticfiles %}
	<link rel='stylesheet' type='text/css' href='{% static "css/secure/party/guests.css" %}' />
{% endblock %}

{% block content %}


<div class="ui form">
	<div class="two fields">
		<div id="male-form" class="guest-submit field male">
			<form id="male-form" class="guestAdd-form">
				<div class="ui icon input">
					<input type='text' name='name' class='name' data-gender='M' placeholder='His name'/>
					<i class="male icon"></i>
				</div>
				<input hidden type="text" name="gender" value='M'/>
				<input style="visibility:hidden" type="submit"/><!--must be 'hidden' but still rendered or else the 'enter' wont trigger submit -->
			</form>
		</div>
		<div id="female-form" class="guest-submit field female">
			<form id="female-form" class="guestAdd-form">
				<div class="ui icon input">
					<input type='text' class='name' data-gender='F' placeholder='Her name'/>
					<i class="female icon"></i>
				</div>
				<input hidden type="text" name="gender" value='F'/>
				<input style="visibility:hidden" type="submit"/>
			</form>
		</div>
	</div>
</div>

<script type='text/javascript'>
	document.ROOT_URL = '/secure/parties/' + '{{partyname}}';
</script>
</br>
Guests for: {{partyname}}
</br>

{% if partyguests %}
	<div class="ui selection list">
		{% for pg in partyguests %}
			<li class="guest">
				<form class="entry" data-id="{{pg.guest.id}}">
					<input name="name" value="{{ pg.guest.name }}" class="name editable"/>
					<span class="addedBy">{{ pg.addedBy.username }}</span>
					<input hidden type="text" name="gender" value="{{pg.guest.gender}}"/>
				</form>
				{% if pg.addedBy == user %}
					<span class="delete"> X </span>
				{% endif %}
			</li>
		{% endfor %}
	</div>

{% endif %}

{% endblock %}